<div class="signin-form-wrapper">
    <div class="signin-container">
        <form [formGroup]="signInForm" *ngIf="signInForm" (ngSubmit)="signIn()">
            <h1>To-Do App</h1>
            <p>Start organising your life day by day</p>
            <div class="form-group">
                <input type="text" id="username" name="username" placeholder="Username" formControlName="userName">
            </div>
            <div
                *ngIf="signInForm.controls['userName'].invalid && (signInForm.controls['userName'].dirty || signInForm.controls['userName'].touched || isFormValid)">
                <div *ngIf="signInForm.controls['userName'].errors?.['required']" class="error">
                    Username is required.
                </div>
            </div>
            <div class="form-group">
                <input [type]="passwordVisible ? 'text' : 'password'" id="password" name="password"
                    placeholder="Password" formControlName="password">
                <span class="toggle-password" (click)="togglePasswordVisibility()">
                    <i class="fa" [ngClass]="passwordVisible ? 'fa-eye-slash' : 'fa-eye'"></i>
                </span>
            </div>
            <div
                *ngIf="signInForm.controls['password'].invalid && (signInForm.controls['password'].dirty || signInForm.controls['password'].touched || isFormValid)">
                <div *ngIf="signInForm.controls['password'].errors?.['required']" class="error">
                    Password is required.
                </div>
                <div *ngIf="signInForm.controls['password'].errors?.['pattern']" class="error">
                    Password should have 8 characters (Letters, Numbers and Special characters)
                </div>
            </div>
            <button type="submit">Sign in</button>
            <p class="isSignedUp">Don't have an account? Create <a [routerLink]="['/']">here</a></p>
        </form>
    </div>
</div>

<app-spinner [isLoading]="isLoading"></app-spinner>